(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["songlistindex_listdetail"],{"10fc":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.$router.go(-1)}}}),i("span",{staticClass:"title"},[t._t("default")],2)])},n=[],r={name:"Header",data:function(){return{}}},a=r,o=(i("d777"),i("2877")),c=Object(o["a"])(a,s,n,!1,null,"0f35b728",null);e["a"]=c.exports},1148:function(t,e,i){"use strict";var s=i("a691"),n=i("1d80");t.exports="".repeat||function(t){var e=String(n(this)),i="",r=s(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},"14c7":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"songlistIndex"},[i("transition",{attrs:{name:"fade"}},[t.ishow?i("Loading"):t._e()],1),i("div",{staticClass:"nav"},[i("AppHeader",[t._v("精选歌单")]),i("div",{ref:"nav",staticClass:"nav-wrapper"},[i("ul",{ref:"navlist"},t._l(t.navlist,(function(e){return i("li",{key:e.id,class:{active:t.currentIndex===e.id},on:{click:function(i){return t.changeCate(e)}}},[t._v(t._s(e.name))])})),0)])],1),i("Scroll",{ref:"scroll",attrs:{pullup:t.pullup,top:120},on:{pulldown:t.loadData}},[i("div",{staticClass:"list"},[i("ul",{ref:"content",staticClass:"songlist"},[t._l(t.songlist,(function(e,s){return i("li",{key:s,staticClass:"listitem",on:{click:function(i){return t.ListDetail(e)}}},[i("div",{staticClass:"imgbox"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl,expression:"item.coverImgUrl"}],attrs:{alt:""}}),i("p",{staticClass:"playcount"},[i("i",{staticClass:"el-icon-caret-right"}),t._v(" "+t._s(t._f("number")(e.playCount))+" ")])]),i("p",[t._v(t._s(e.name))])])})),i("div",{staticStyle:{clear:"both"}})],2)])])],1)},n=[],r=(i("b0c0"),i("b680"),i("96cf"),i("1da1")),a=i("6701"),o=i("10fc"),c=i("f453"),l={filters:{number:function(t){return t>1e3?(t/1e4).toFixed(2)+"万":t}},components:{AppHeader:o["a"],Loading:c["a"],Scroll:a["a"]},data:function(){return{navlist:[{id:0,name:"全部"},{id:5001,name:"华语"},{id:1,name:"流行"},{id:2,name:"摇滚"},{id:1001,name:"民谣"}],songlist:[],currentIndex:0,pullup:!0,listwidth:100,ishow:!0}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/top/playlist");case 2:i=e.sent,s=i.data,t.songlist=s.playlists,t.ishow=!1,t.loadData();case 7:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.$nextTick((function(){t.loadData()}))},activated:function(){this.loadData()},methods:{loadData:function(){var t=this;this.$nextTick((function(){t.$refs.scroll.scroll.refresh()}))},changeCate:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var s,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.currentIndex=t.id,e.ishow=!0,i.next=4,e.$http.get("/top/playlist",{params:{cat:t.name}});case 4:s=i.sent,n=s.data,e.songlist=n.playlists,e.ishow=!1;case 8:case"end":return i.stop()}}),i)})))()},ListDetail:function(t){this.listId=t.id,this.$router.push({path:"/listdetail",query:{id:t.id}})}}},u=l,d=(i("4068"),i("2877")),f=Object(d["a"])(u,s,n,!1,null,"1160c93b",null);e["default"]=f.exports},2821:function(t,e,i){"use strict";var s=i("a934"),n=i.n(s);n.a},4068:function(t,e,i){"use strict";var s=i("d6ff"),n=i.n(s);n.a},"408a":function(t,e,i){var s=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},"48d4":function(t,e,i){},"4dd6":function(t,e,i){"use strict";var s=i("88b3"),n=i.n(s);n.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var s=i("1d80"),n=i("5899"),r="["+n+"]",a=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(e){var i=String(s(e));return 1&t&&(i=i.replace(a,"")),2&t&&(i=i.replace(o,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},6701:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"wrapper"},[i("div",{staticClass:"content"},[t._t("default")],2)])},n=[],r=(i("a9e3"),i("ec51")),a=i.n(r),o={name:"Scroll",props:{probeType:{type:Number,default:3},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20},top:{type:Number,default:0}},mounted:function(){var t=this;this.$nextTick((function(){t._initScroll()}))},activated:function(){this.refresh()},methods:{_initScroll:function(){var t=this;if(this.scroll||(this.scroll=new a.a(this.$refs.wrapper,{click:!0,probeType:this.probeType,scrollX:this.scrollX,mouseWheel:!0,disableMouse:!1,disableTouch:!1})),this.$refs.wrapper.style.top=this.top+"px",this.listenScroll){var e=this;this.scroll.on("scroll",(function(t){e.$emit("scroll",t)}))}this.pullup&&this.scroll.on("scrollEnd",(function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")})),this.pulldown&&this.scroll.on("touchend",(function(e){e.y>50&&t.$emit("pulldown")})),this.beforeScroll&&this.scroll.on("beforeScrollStart",(function(){t.$emit("beforeScroll")}))},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout((function(){t.refresh()}),this.refreshDelay)}}},c=o,l=(i("7b02"),i("2877")),u=Object(l["a"])(c,s,n,!1,null,"4b85dc7b",null);e["a"]=u.exports},7156:function(t,e,i){var s=i("861d"),n=i("d2bb");t.exports=function(t,e,i){var r,a;return n&&"function"==typeof(r=e.constructor)&&r!==i&&s(a=r.prototype)&&a!==i.prototype&&n(t,a),t}},"7b02":function(t,e,i){"use strict";var s=i("ee63"),n=i.n(s);n.a},"88b3":function(t,e,i){},a934:function(t,e,i){},a9e3:function(t,e,i){"use strict";var s=i("83ab"),n=i("da84"),r=i("94ca"),a=i("6eeb"),o=i("5135"),c=i("c6b6"),l=i("7156"),u=i("c04e"),d=i("d039"),f=i("7c73"),p=i("241c").f,h=i("06cf").f,v=i("9bf2").f,m=i("58a8").trim,g="Number",y=n[g],w=y.prototype,b=c(f(w))==g,_=function(t){var e,i,s,n,r,a,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=m(l),e=l.charCodeAt(0),43===e||45===e){if(i=l.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+l}for(r=l.slice(2),a=r.length,o=0;o<a;o++)if(c=r.charCodeAt(o),c<48||c>n)return NaN;return parseInt(r,s)}return+l};if(r(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var C,x=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof x&&(b?d((function(){w.valueOf.call(i)})):c(i)!=g)?l(new y(_(e)),i,x):_(e)},I=s?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;I.length>k;k++)o(y,C=I[k])&&!o(x,C)&&v(x,C,h(y,C));x.prototype=w,w.constructor=x,a(n,g,x)}},b0c0:function(t,e,i){var s=i("83ab"),n=i("9bf2").f,r=Function.prototype,a=r.toString,o=/^\s*function ([^ (]*)/,c="name";s&&!(c in r)&&n(r,c,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(t){return""}}})},b680:function(t,e,i){"use strict";var s=i("23e7"),n=i("a691"),r=i("408a"),a=i("1148"),o=i("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,i){return 0===e?i:e%2===1?u(t,e-1,i*t):u(t*t,e/2,i)},d=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));s({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,i,s,o,c=r(this),f=n(t),p=[0,0,0,0,0,0],h="",v="0",m=function(t,e){var i=-1,s=e;while(++i<6)s+=t*p[i],p[i]=s%1e7,s=l(s/1e7)},g=function(t){var e=6,i=0;while(--e>=0)i+=p[e],p[e]=l(i/t),i=i%t*1e7},y=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var i=String(p[t]);e=""===e?i:e+a.call("0",7-i.length)+i}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=d(c*u(2,69,1))-69,i=e<0?c*u(2,-e,1):c/u(2,e,1),i*=4503599627370496,e=52-e,e>0){m(0,i),s=f;while(s>=7)m(1e7,0),s-=7;m(u(10,s,1),0),s=e-1;while(s>=23)g(1<<23),s-=23;g(1<<s),m(1,1),g(2),v=y()}else m(0,i),m(1<<-e,0),v=y()+a.call("0",f);return f>0?(o=v.length,v=h+(o<=f?"0."+a.call("0",f-o)+v:v.slice(0,o-f)+"."+v.slice(o-f))):v=h+v,v}})},d6ff:function(t,e,i){},d777:function(t,e,i){"use strict";var s=i("48d4"),n=i.n(s);n.a},ee63:function(t,e,i){},f453:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"line"}),i("div",{staticClass:"line"}),i("div",{staticClass:"line"}),i("div",{staticClass:"line"}),i("span",[t._v("努力加载中")])])}],r={},a=r,o=(i("2821"),i("2877")),c=Object(o["a"])(a,s,n,!1,null,"5f3fbeb4",null);e["a"]=c.exports},f4ac:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"nav",style:{background:"url("+t.coverImg+")"}},[i("i",{staticClass:"el-icon-back",on:{click:function(e){return t.$router.go(-1)}}}),i("p",[t._v("歌单")])]),i("Scroll",{ref:"scroll",attrs:{top:0},on:{pulldown:t.loadData}},[i("div",{staticClass:"scroll-wrapper"},[i("div",{staticClass:"top-wrapper",style:{background:"linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+t.coverImg+")"}},[i("div",{staticClass:"top"},[i("div",{staticClass:"imgbox"},[i("img",{attrs:{src:t.list.coverImgUrl,alt:""}}),i("p",{staticClass:"playcount"},[i("i",{staticClass:"el-icon-caret-right"}),t._v(" "+t._s(t._f("number")(t.list.playCount))+" ")]),i("div",{staticClass:"avatar"},[i("div",{staticClass:"avatar-box"},[i("img",{attrs:{src:t.avatarUrl,alt:""}})]),i("p",[t._v(t._s(t.nickname))])])]),i("div",{staticClass:"info"},[i("p",[t._v(t._s(t.list.name))]),i("p",{class:["d-content",{active:t.isDescStatus}]},[t._v(t._s(t.list.description))]),t.isShowMore?t._e():i("i",{staticClass:"el-icon-arrow-down more",on:{click:function(e){return t.showMore(e)}}}),t.isShowMore?i("i",{staticClass:"el-icon-arrow-up",on:{click:function(e){return t.showMore(e)}}}):t._e()])])]),i("div",{staticClass:"list-wrapper"},[i("div",{staticClass:"menu"},[i("p",[i("i",{staticClass:"el-icon-video-play"}),i("span",[t._v("播放全部(共"+t._s(this.song.length)+"首)")])]),i("el-button",{attrs:{round:"",icon:"el-icon-folder-add",size:"medium"}},[t._v("收藏("+t._s(this.list.trackCount)+")")])],1),i("ul",{staticClass:"listbox"},t._l(t.song,(function(e,s){return i("li",{key:s,staticClass:"songitem",on:{click:function(i){return t.PlaySong(e,s)}}},[i("div",{staticClass:"left-text"},[i("span",{staticClass:"num"},[t._v(t._s(s+1))]),i("div",{class:["songname",{"song-active":s===t.currentIndex}]},[i("div",[t._v(t._s(e.name))]),i("div",{staticClass:"zj"},[t._v(t._s(e.al.name))])])]),s===t.currentIndex&&t.selected?i("i",{staticClass:"el-icon-video-pause"}):t._e()])})),0)])])]),i("div",{staticClass:"bottom",attrs:{pullup:t.pullup},on:{click:t.songDetail}},[i("div",{staticClass:"songimg"},[i("img",{attrs:{src:t.isplay?t.currentsong.img:t.defaultsong.img,alt:""}})]),i("div",{staticClass:"b-info"},[t.isplay?t._e():i("p",[t._v(t._s(this.defaultsong.name))]),t.isplay?i("p",[t._v(t._s(this.currentsong.name))]):t._e()]),i("audio",{ref:"myAudio",attrs:{loop:"loop",id:"myAudio"}}),t.ishow?i("i",{staticClass:"el-icon-video-pause",on:{click:t.showIcon}}):t._e(),t.ishow?t._e():i("i",{staticClass:"el-icon-video-play",on:{click:t.showIcon}})])],1)},n=[],r=(i("4160"),i("b0c0"),i("b680"),i("159b"),i("96cf"),i("1da1")),a=i("6701"),o={filters:{number:function(t){return t>1e3?(t/1e4).toFixed(2)+"万":t}},components:{Scroll:a["a"]},data:function(){return{id:"",list:[],coverImg:"",avatarUrl:"",nickname:"",isShowMore:!1,isDescStatus:!0,song:[],songId:[],currentIndex:"",isplay:!1,ishow:!1,selected:!0,pullup:!0,currentsong:{name:"",id:"",img:"",url:""},defaultsong:{name:"春风十里",id:38576323,img:"http://p3.music.126.net/hYjA4Th6CAdkWI_sm32juw==/109951163669459549.jpg",url:"https://music.163.com/song/media/outer/url?id=38576323.mp3"}}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.query.id,e.next=3,t.$http.get("/playlist/detail",{params:{id:t.id}});case 3:i=e.sent,s=i.data,t.list=s.playlist,t.coverImg=s.playlist.creator.backgroundUrl,t.avatarUrl=s.playlist.creator.avatarUrl,t.nickname=s.playlist.creator.nickname,s.privileges.forEach((function(e){t.songId.push(e.id)})),t.getSongList(),t.loadData();case 12:case"end":return e.stop()}}),e)})))()},activated:function(){this.loadData()},methods:{loadData:function(){var t=this;this.$nextTick((function(){t.$refs.scroll.scroll.refresh()}))},showMore:function(t){this.isShowMore=!this.isShowMore,this.isDescStatus=!this.isDescStatus},getSongList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/playlist/detail?id=".concat(t.id));case 2:i=e.sent,s=i.data,t.song=s.playlist.tracks;case 5:case"end":return e.stop()}}),e)})))()},PlaySong:function(t,e){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:i.currentsong.name=t.name,i.currentsong.id=t.id,i.currentsong.img=t.al.picUrl,i.currentIndex=e,i.isplay=!0,i.currentsong.url="https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3"),i.$refs.myAudio.src=i.currentsong.url,i.$refs.myAudio.play(),i.ishow=!0;case 9:case"end":return s.stop()}}),s)})))()},showIcon:function(){this.ishow=!this.ishow,this.isplay?(this.selected=!0,this.$refs.myAudio.src=this.currentsong.url,this.ishow?this.ishow&&this.$refs.myAudio.play():(this.$refs.myAudio.pause(),this.selected=!1)):(this.$refs.myAudio.src=this.defaultsong.url,this.$refs.myAudio.play(),this.ishow?this.$refs.myAudio.play():this.$refs.myAudio.pause())},songDetail:function(){this.currentsong.id?this.$router.push({path:"/play",query:{id:this.currentsong.id,img:this.currentsong.img,name:this.currentsong.name}}):this.$router.push({path:"/play",query:{id:this.defaultsong.id,img:this.defaultsong.img,name:this.defaultsong.name}})}}},c=o,l=(i("4dd6"),i("2877")),u=Object(l["a"])(c,s,n,!1,null,"0c6b3754",null);e["default"]=u.exports}}]);
//# sourceMappingURL=songlistindex_listdetail.44a7606a.js.map